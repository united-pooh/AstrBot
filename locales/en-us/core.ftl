### astr_agent_run_util.py
agent-max-steps-reached = Agent reached max steps ({$max_step}), forcing a final response.
agent-tool-call = ðŸ”¨ Calling tool: {$tool_name}
agent-tool-call-unknown = ðŸ”¨ Calling tool...
agent-request-failed = {"\u000A"}{"\u000A"}AstrBot request failed.{"\u000A"}Error type: {$error_type}{"\u000A"}Error message: {$error_message}{"\u000A"}{"\u000A"}Please check the platform logs for error details.{"\u000A"}
agent-error-in-hook = Error in on_agent_done hook
live-agent-stream-tts = [Live Agent] Using streaming TTS (native get_audio_stream support)
live-agent-tts-info = [Live Agent] Using TTS ({$provider_type} using get_audio, will generate audio sentence by sentence)
live-agent-runtime-error = [Live Agent] Runtime error: {$error}
live-agent-feeder-error = [Live Agent Feeder] Error: {$error}
live-tts-stream-error = [Live TTS Stream] Error: {$error}
live-tts-simulated-error = [Live TTS Simulated] Error processing text '{$text_preview}...': {$error}
live-tts-simulated-critical = [Live TTS Simulated] Critical Error: {$error}
tts-stats-send-failed = Failed to send TTS statistics: {$error}
live-agent-feeder-sentence = [Live Agent Feeder] Sentence: {$sentence}

### astr_agent_tool_exec.py
background-task-failed = Background task {task_id} failed: {error}
background-task-build-failed = Failed to build main agent for background task job.
background-task-no-response = background task agent got no response
tool-send-message-failed = Tool failed to send message directly: {error}, traceback: {traceback}
tool-execution-timeout = tool {tool_name} execution timeout after {timeout} seconds.
tool-execution-value-error = Tool execution ValueError: {error}
tool-parameter-mismatch = Tool handler parameter mismatch, please check the handler definition. Handler parameters: {handler_param_str}
tool-execution-error = Tool execution error: {error}. Traceback: {traceback}
unknown-method-name = Unknown method name: {method_name}
previous-error = Previous Error: {traceback}

### zip_updator.py
repo-request-failed = Request {url} failed, status code: {status_code}, content: {content}
repo-parse-error = An exception occurred while parsing version information: {error}
repo-parse-failed = Failed to parse version information
repo-no-suitable-release = No suitable release version found
repo-downloading-update = Downloading update {repo} ...
repo-downloading-branch = Downloading {author}/{repo} from specified branch {branch}
repo-fetch-releases-failed = Failed to fetch {author}/{repo} GitHub Releases: {error}, will try to download default branch
repo-downloading-default = Downloading {author}/{repo} from default branch
repo-using-mirror = Mirror detected, will use mirror to download {author}/{repo} repository source code: {url}
repo-unzip-complete = Unzip completed: {zip_path}
repo-delete-temp = Deleting temporary update files: {zip_path} and {temp_dir}
repo-delete-failed = Failed to delete update files, you can manually delete {zip_path} and {temp_dir}
repo-invalid-url = Invalid GitHub URL
repo-request-failed-exception = Request failed, status code: {$status_code}
release-info = Version: {$version} | Published at: {$published_at}

agent-runners-coze-coze_agent_runner-coze_api_key_empty = Coze API Key cannot be empty.
agent-runners-coze-coze_agent_runner-coze_bot_id_empty = Coze Bot ID cannot be empty.
agent-runners-coze-coze_agent_runner-coze_api_base_url_invalid_format = Coze API Base URL format is incorrect, it must start with http:// or https://.
agent-runners-coze-coze_agent_runner-coze_request_failed = Coze request failed: {str(e)}
agent-runners-coze-coze_agent_runner-coze_request_failed_completion = "err", completion_text=f"Coze request failed: {str(e)}"
agent-runners-coze-coze_agent_runner-coze_request_failed_message_chain = MessageChain().message(f"Coze request failed: {str(e)}")
agent-runners-coze-coze_agent_runner-process_context_image_failed = Failed to process context image: {e}
agent-runners-coze-coze_agent_runner-process_image_failed = Failed to process image {url}: {e}
agent-runners-coze-coze_agent_runner-unknown_error_fallback = data.get("msg", "Unknown error")
agent-runners-coze-coze_agent_runner-coze_error_occurred = Coze error occurred: {error_code} - {error_msg}
agent-runners-coze-coze_agent_runner-raise_coze_error = Coze error occurred: {error_code} - {error_msg}
agent-runners-coze-coze_agent_runner-coze_no_content_returned = Coze returned no content
agent-runners-coze-coze_agent_runner-using_cached_file_id = [Coze] Using cached file_id: {file_id}
agent-runners-coze-coze_agent_runner-image_uploaded_and_cached = [Coze] Image uploaded successfully and cached, file_id: {file_id}
agent-runners-coze-coze_agent_runner-process_image_url_failed = Failed to process image {image_url}: {e!s}
agent-runners-coze-coze_agent_runner-raise_process_image_failed = Failed to process image: {e!s}
agent-runners-coze-coze_api_client-coze_api_auth_failed = Coze API authentication failed, please check if the API Key is correct
agent-runners-coze-coze_api_client-file_upload_response_status = File upload response status: {response.status}, content: {response_text}
agent-runners-coze-coze_api_client-file_upload_failed = File upload failed, status code: {response.status}, response: {response_text}
agent-runners-coze-coze_api_client-file_upload_response_parse_failed = File upload response parsing failed: {response_text}
agent-runners-coze-coze_api_client-file_upload_failed_dup2 = File upload failed: {result.get('msg', 'Unknown error')}
agent-runners-coze-coze_api_client-image_upload_success = [Coze] Image uploaded successfully, file_id: {file_id}
agent-runners-coze-coze_api_client-file_upload_timeout = File upload timed out
agent-runners-coze-coze_api_client-file_upload_timeout_error = File upload timed out
agent-runners-coze-coze_api_client-file_upload_failed_error = File upload failed: {e!s}
agent-runners-coze-coze_api_client-file_upload_failed_raise = File upload failed: {e!s}
agent-runners-coze-coze_api_client-image_download_failed_status = Failed to download image, status code: {response.status}
agent-runners-coze-coze_api_client-image_download_failed = Failed to download image {image_url}: {e!s}
agent-runners-coze-coze_api_client-image_download_failed_raise = Failed to download image: {e!s}
agent-runners-coze-coze_api_client-api_auth_failed = Coze API authentication failed, please check if the API Key is correct
agent-runners-coze-coze_api_client-stream_request_failed_status = Coze API streaming request failed, status code: {response.status}
agent-runners-coze-coze_api_client-stream_request_timeout = Coze API streaming request timed out ({timeout} seconds)
agent-runners-coze-coze_api_client-stream_request_failed = Coze API streaming request failed: {e!s}
agent-runners-coze-coze_api_client-api_request_failed_status = Coze API request failed, status code: {response.status}
agent-runners-coze-coze_api_client-api_response_not_json = Coze API returned non-JSON format
agent-runners-coze-coze_api_client-api_request_timeout = Coze API request timed out
agent-runners-coze-coze_api_client-api_request_failed = Coze API request failed: {e!s}
agent-runners-coze-coze_api_client-get_messages_failed_log = Failed to get Coze message list: {e!s}
agent-runners-coze-coze_api_client-get_messages_failed = Failed to get Coze message list: {e!s}
agent-runners-dashscope-dashscope_agent_runner-api_key_empty = The Aliyun Bailian API Key cannot be empty.
agent-runners-dashscope-dashscope_agent_runner-app_id_empty = The Aliyun Bailian APP ID cannot be empty.
agent-runners-dashscope-dashscope_agent_runner-app_type_empty = The Aliyun Bailian APP type cannot be empty.
agent-runners-dashscope-dashscope_agent_runner-request_failed_error_log = Aliyun Bailian request failed: {str(e)}
agent-runners-dashscope-dashscope_agent_runner-request_failed_completion_text = "err", completion_text=f"Aliyun Bailian request failed: {str(e)}"
agent-runners-dashscope-dashscope_agent_runner-request_failed_message_chain = MessageChain().message(f"Aliyun Bailian request failed: {str(e)}")
agent-runners-dashscope-dashscope_agent_runner-request_failed_detailed_error = Aliyun Bailian request failed: request_id={chunk.request_id}, code={chunk.status_code}, message={chunk.message}, please refer to the documentation: https://help.aliyun.com/zh/model-studio/developer-reference/error-code
agent-runners-dashscope-dashscope_agent_runner-request_failed_simple_error = Aliyun Bailian request failed: message={chunk.message} code={chunk.status_code}
agent-runners-dashscope-dashscope_agent_runner-answer_source_append = \n\nAnswer source:\n{ref_str}
agent-runners-dashscope-dashscope_agent_runner-image_input_unsupported_warning = Aliyun Bailian does not support image input at the moment, image content will be automatically ignored.
agent-runners-dify-dify_agent_runner-dify_request_failed = Dify request failed: {str(e)}
agent-runners-dify-dify_agent_runner-dify_request_failed_completion = "err", completion_text=f"Dify request failed: {str(e)}"
agent-runners-dify-dify_agent_runner-dify_request_failed_message = MessageChain().message(f"Dify request failed: {str(e)}")
agent-runners-dify-dify_agent_runner-dify_upload_image_response = Dify upload image response: {file_response}
agent-runners-dify-dify_agent_runner-unknown_dify_response_after_upload = Received unknown Dify response after uploading image: {file_response}, image will be ignored.
agent-runners-dify-dify_agent_runner-upload_image_failed = Failed to upload image: {e}
agent-runners-dify-dify_agent_runner-dify_error_occurred = Dify encountered an error: {chunk}
agent-runners-dify-dify_agent_runner-dify_error_status_message = Dify error - status: {chunk['status']} message: {chunk['message']}
agent-runners-dify-dify_agent_runner-workflow_started = Dify workflow (ID: {chunk['workflow_run_id']}) started running.
agent-runners-dify-dify_agent_runner-workflow_node_finished = Dify workflow node (ID: {chunk['data']['node_id']} Title: {chunk['data'].get('title', '')}) finished running.
agent-runners-dify-dify_agent_runner-workflow_run_finished = Dify workflow (ID: {chunk['workflow_run_id']}) has finished running
agent-runners-dify-dify_agent_runner-workflow_result_debug = Dify workflow result: {chunk}
agent-runners-dify-dify_agent_runner-workflow_error = Dify workflow encountered an error: {chunk['data']['error']}
agent-runners-dify-dify_agent_runner-workflow_error_duplicate = Dify workflow encountered an error: {chunk['data']['error']}
agent-runners-dify-dify_agent_runner-missing_output_key = Dify workflow output does not contain the specified key: {self.workflow_output_key}
agent-runners-dify-dify_agent_runner-unknown_api_type = Unknown Dify API type: {self.api_type}
agent-runners-dify-dify_agent_runner-empty_result_warning = Dify request result is empty, please check the Debug logs.
agent-runners-dify-dify_api_client-chat_messages_request_failed = Dify /chat-messages API request failed: {resp.status}. {text}
agent-runners-dify-dify_api_client-workflows_run_request_failed = Dify /workflows/run API request failed: {resp.status}. {text}
agent-runners-dify-dify_api_client-file_params_both_none = file_path and file_data cannot both be None
agent-runners-dify-dify_api_client-file_upload_failed = Dify file upload failed: {resp.status}. {text}
agent-runners-tool_loop_agent_runner-llm_response_error = LLM response error: {llm_resp.completion_text or 'unknown error'}
agent-runners-tool_loop_agent_runner-agent_using_tool = Agent using tool: {llm_response.tools_call_name}
agent-runners-tool_loop_agent_runner-using_tool_with_params = Using tool: {func_tool_name}, parameters: {func_tool_args}
agent-runners-tool_loop_agent_runner-tool_not_found_warning = Specified tool not found: {func_tool_name}, will skip.
agent-runners-tool_loop_agent_runner-tool_expected_parameters = Tool {func_tool_name} expected parameters: {func_tool.parameters}
agent-runners-tool_loop_agent_runner-ignoring_unexpected_params = Tool {func_tool_name} ignoring unexpected parameters: {ignored_params}
agent-runners-tool_loop_agent_runner-tool_no_return_or_direct = {func_tool_name} returned no value, or the result was sent directly to the user.
agent-runners-tool_loop_agent_runner-unsupported_tool_return_type = Tool returned an unsupported type: {type(resp)}.
astr_main_agent-error_process_image_description_failed = Failed to process image description: %s
astr_main_agent-error_process_quoted_image_failed = Failed to process referenced image: %s
astr_main_agent_resources-info_session_disabled_knowledge = [Knowledge] Session {umo} has been configured to not use knowledge base
astr_main_agent_resources-warn_knowledge_base_not_found_or_unloaded = [Knowledge] Knowledge base does not exist or is not loaded: {kb_id}
astr_main_agent_resources-invalid_kb_ids_in_session_config = [Knowledge] The following knowledge bases configured for session {umo} are invalid: {invalid_kb_ids}
astr_main_agent_resources-debug_using_session_kb_config = [Knowledge] Using session-level configuration, knowledge base count: {len(kb_names)}
astr_main_agent_resources-debug_using_global_kb_config = [Knowledge] Using global configuration, knowledge base count: {len(kb_names)}
astr_main_agent_resources-debug_start_kb_retrieval = [Knowledge] Starting knowledge base retrieval, count: {len(kb_names)}, top_k={top_k}
astr_main_agent_resources-debug_injected_kb_chunks = [Knowledge] Injected {len(results)} relevant knowledge chunks for session {umo}
astrbot_config_mgr-error_cannot_delete_default_config = Cannot delete the default configuration file
astrbot_config_mgr-warn_config_not_in_mapping = Configuration file {conf_id} does not exist in mapping
astrbot_config_mgr-info_config_file_deleted = Deleted configuration file: {conf_path}
astrbot_config_mgr-error_delete_config_failed = Failed to delete configuration file {conf_path}: {e}
astrbot_config_mgr-info_config_deleted_success = Successfully deleted configuration {conf_id}
astrbot_config_mgr-error_cannot_update_default_config = Cannot update information of the default configuration file
astrbot_config_mgr-warn_config_not_found_in_mapping = Configuration file {conf_id} does not exist in mapping
astrbot_config_mgr-info_config_updated_success = Successfully updated information for configuration {conf_id}
backup-exporter-info_start_export_backup = Starting backup export to {zip_path}
backup-exporter-progress_exporting_main_db = Exporting main database...
backup-exporter-progress_main_db_export_complete = Main database export completed
backup-exporter-exporting_kb_metadata = Exporting knowledge base metadata...
backup-exporter-kb_metadata_export_completed = Knowledge base metadata export completed
backup-exporter-exporting_kb_documents = Exporting document data for knowledge base {kb_helper.kb.kb_name}...
backup-exporter-kb_documents_export_completed = Knowledge base documents export completed
backup-exporter-exporting_config = Exporting configuration file...
backup-exporter-config_export_completed = Configuration file export completed
backup-exporter-exporting_attachments = Exporting attachments...
backup-exporter-attachments_export_completed = Attachments export completed
backup-exporter-exporting_directories = Exporting plugins and data directories...
backup-exporter-directories_export_completed = Directories export completed
backup-exporter-generating_manifest = Generating manifest...
backup-exporter-manifest_generation_completed = Manifest generation completed
backup-exporter-backup_export_completed = Backup export completed: {zip_path}
backup-exporter-backup_export_failed = Backup export failed: {e}
backup-exporter-exported_table_records = Exported table {table_name}: {len(export_data[table_name])} records
backup-exporter-export_table_failed = Exporting table {table_name} failed: {e}
backup-exporter-exported_kb_table_records = Exported knowledge base table {table_name}: {len(export_data[table_name])} records
backup-exporter-export_kb_table_failed = Exporting knowledge base table {table_name} failed: {e}
backup-exporter-export_kb_documents_failed = Exporting knowledge base documents failed: {e}
backup-exporter-exported_faiss_index = Exported FAISS index: {archive_path}
backup-exporter-failed_export_faiss_index = Failed to export FAISS index: {e}
backup-exporter-failed_export_media_files = Failed to export knowledge base media files: {e}
backup-exporter-directory_not_exist_skip = Directory does not exist, skipping: {full_path}
backup-exporter-failed_export_file = Failed to export file {file_path}: {e}
backup-exporter-exporting_directory_summary = Exporting directory {dir_name}: {file_count} files, {total_size} bytes
backup-exporter-failed_export_directory = Failed to export directory {dir_path}: {e}
backup-exporter-failed_export_attachments = Failed to export attachments: {e}
backup-importer-backup_file_not_exist = f"Backup file does not exist: {zip_path}"
backup-importer-missing_manifest_invalid_backup = "Backup file is missing manifest.json, not a valid AstrBot backup"
backup-importer-manifest_format_error = f"manifest.json format error: {e}"
backup-importer-backup_version_fallback_unknown = manifest.get("astrbot_version", "Unknown")
backup-importer-backup_time_fallback_unknown = manifest.get("exported_at", "Unknown")
backup-importer-invalid_zip_file = "Invalid ZIP file"
backup-importer-failed_check_backup_file = f"Failed to check backup file: {e}"
backup-importer-missing_version_info = Backup file is missing version information
backup-importer-major_version_incompatible = Major version incompatible: backup version {backup_version}, current version {VERSION}.
backup-importer-major_version_mismatch_warning = Importing across major versions may cause data corruption. Please use the same major version of AstrBot.
backup-importer-minor_version_difference = Minor version difference: backup version {backup_version}, current version {VERSION}.
backup-importer-version_matches = Version matches
backup-importer-add_error_backup_not_exist = Backup file does not exist: {zip_path}
backup-importer-start_import_from_zip = Starting import of backup from {zip_path}
backup-importer-validate_start = Validating backup file...
backup-importer-error_missing_manifest = Backup file is missing manifest.json
backup-importer-error_manifest_format = manifest.json format error: {e}
backup-importer-validate_complete = Validation completed
backup-importer-main_db_start = Importing main database...
backup-importer-error_main_db_import = Failed to import main database: {e}
backup-importer-main_db_complete = Main database import completed
backup-importer-kb_start = Importing knowledge base...
backup-importer-warning_kb_import_failed = Failed to import knowledge base: {e}
backup-importer-kb_complete = Knowledge base import completed
backup-importer-config_start = Importing configuration file...
backup-importer-warning_config_import_failed = Failed to import configuration file: {e}
backup-importer-config_complete = Configuration file import completed
backup-importer-attachments_start = Importing attachments...
backup-importer-attachments_complete = Attachments import completed
backup-importer-directories_start = Importing plugins and data directories...
backup-importer-directories_complete = Directories import completed
backup-importer-import_finished = Backup import completed: {result.to_dict()}
backup-importer-error_invalid_zip = Invalid ZIP file
backup-importer-import_failed = Import failed: {e}
backup-importer-missing_version_info_dup2 = Backup file is missing version information
backup-importer-version_mismatch_warning = Version mismatch warning: {version_check['message']}
backup-importer-table_cleared = Cleared table {table_name}
backup-importer-clear_table_failed = Failed to clear table {table_name}: {e}
backup-importer-kb_table_cleared = Cleared knowledge base table {table_name}
backup-importer-clear_kb_table_failed = Failed to clear knowledge base table {table_name}: {e}
backup-importer-clean_kb_failed = Failed to clean knowledge base {kb_id}: {e}
backup-importer-unknown_table = Unknown table: {table_name}
backup-importer-import_records_failed = Failed to import records into {table_name}: {e}
backup-importer-table_imported = Imported table {table_name}: {count} records
backup-importer-import_kb_records_failed = Failed to import knowledge base records into {table_name}: {e}
backup-importer-import_kb_docs_failed = Failed to import documents for knowledge base {kb_id}: {e}
backup-importer-import_kb_faiss_failed = Failed to import FAISS index for knowledge base {kb_id}: {e}
backup-importer-import_media_failed = Failed to import media file {name}: {e}
backup-importer-import_chunks_failed = Failed to import document chunks: {e}
backup-importer-import_attachment_failed = Failed to import attachment {name}: {e}
backup-importer-skip_dir_import_unsupported = Backup version does not support directory backup, skipping directory import
backup-importer-unknown_dir_type = Unknown directory type: {dir_name}
backup-importer-existing_dir_backed_up = Backed up existing directory {target_dir} to {backup_path}
backup-importer-failed_to_import_file = Failed to import file {name}: {e}
backup-importer-importing_directory_files = Importing directory {dir_name}: {file_count} files
backup-importer-failed_to_import_directory = Failed to import directory {dir_name}: {e}
config-astrbot_config-unsupported_config_type = Unsupported config type {v['type']}. Supported types: {DEFAULT_VALUE_MAP.keys()}
config-astrbot_config-inserted_default_value = Config item {path_} does not exist, inserted default value {value}
config-astrbot_config-removed_missing_config_item = Config item {path_} does not exist, will be removed from current configuration
config-astrbot_config-resorted_sub_items = Detected inconsistent sub-item order for config item {path}, has been re-sorted
config-astrbot_config-resorted_config_order = Detected inconsistent config item order, has been re-sorted
config-astrbot_config-key_not_found = Key not found: '{key}'
conversation_mgr-session_deletion_callback_failed = Session deletion callback execution failed (session: {unified_msg_origin}): {e}
core_lifecycle-task_error_with_separator = ------- Task {task.get_name()} encountered error: {e}
core_lifecycle-startup_completed = AstrBot startup completed.
core_lifecycle-plugin_termination_warning = Plugin {plugin.name} was not properly terminated {e!s}, which may cause resource leaks or other issues.
core_lifecycle-task_error = Task {task.get_name()} encountered error: {e}
core_lifecycle-config_file_not_found = Config file {conf_id} does not exist
db-migration-helper-starting_migration = Starting database migration...
db-migration-helper-migration_completed = Database migration completed.
db-migration-migra_3_to_4-migrating_old_sessions = Migrating {total_cnt} old session records to the new table...
db-migration-migra_3_to_4-migration_progress = Progress: {progress}% ({idx + 1}/{total_cnt})
db-migration-migra_3_to_4-old_session_data_not_found = Specific data for this old session not found: {conversation}, skipping.

