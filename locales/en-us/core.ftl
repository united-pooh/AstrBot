### astr_agent_run_util.py
agent-max-steps-reached = Agent reached max steps ({$max_step}), forcing a final response.
agent-tool-call = ðŸ”¨ Calling tool: {$tool_name}
agent-tool-call-unknown = ðŸ”¨ Calling tool...
agent-request-failed = {"\u000A"}{"\u000A"}AstrBot request failed.{"\u000A"}Error type: {$error_type}{"\u000A"}Error message: {$error_message}{"\u000A"}{"\u000A"}Please check the platform logs for error details.{"\u000A"}
agent-error-in-hook = Error in on_agent_done hook
live-agent-stream-tts = [Live Agent] Using streaming TTS (native get_audio_stream support)
live-agent-tts-info = [Live Agent] Using TTS ({$provider_type} using get_audio, will generate audio sentence by sentence)
live-agent-runtime-error = [Live Agent] Runtime error: {$error}
live-agent-feeder-error = [Live Agent Feeder] Error: {$error}
live-tts-stream-error = [Live TTS Stream] Error: {$error}
live-tts-simulated-error = [Live TTS Simulated] Error processing text '{$text_preview}...': {$error}
live-tts-simulated-critical = [Live TTS Simulated] Critical Error: {$error}
tts-stats-send-failed = Failed to send TTS statistics: {$error}
live-agent-feeder-sentence = [Live Agent Feeder] Sentence: {$sentence}

### astr_agent_tool_exec.py
background-task-failed = Background task {task_id} failed: {error}
background-task-build-failed = Failed to build main agent for background task job.
background-task-no-response = background task agent got no response
tool-send-message-failed = Tool failed to send message directly: {error}, traceback: {traceback}
tool-execution-timeout = tool {tool_name} execution timeout after {timeout} seconds.
tool-execution-value-error = Tool execution ValueError: {error}
tool-parameter-mismatch = Tool handler parameter mismatch, please check the handler definition. Handler parameters: {handler_param_str}
tool-execution-error = Tool execution error: {error}. Traceback: {traceback}
unknown-method-name = Unknown method name: {method_name}
previous-error = Previous Error: {traceback}

### zip_updator.py
repo-request-failed = Request {url} failed, status code: {status_code}, content: {content}
repo-parse-error = An exception occurred while parsing version information: {error}
repo-parse-failed = Failed to parse version information
repo-no-suitable-release = No suitable release version found
repo-downloading-update = Downloading update {repo} ...
repo-downloading-branch = Downloading {author}/{repo} from specified branch {branch}
repo-fetch-releases-failed = Failed to fetch {author}/{repo} GitHub Releases: {error}, will try to download default branch
repo-downloading-default = Downloading {author}/{repo} from default branch
repo-using-mirror = Mirror detected, will use mirror to download {author}/{repo} repository source code: {url}
repo-unzip-complete = Unzip completed: {zip_path}
repo-delete-temp = Deleting temporary update files: {zip_path} and {temp_dir}
repo-delete-failed = Failed to delete update files, you can manually delete {zip_path} and {temp_dir}
repo-invalid-url = Invalid GitHub URL
repo-request-failed-exception = Request failed, status code: {$status_code}
release-info = Version: {$version} | Published at: {$published_at}

agent-runners-coze-coze_agent_runner-coze_api_key_empty = Coze API Key cannot be empty.
agent-runners-coze-coze_agent_runner-coze_bot_id_empty = Coze Bot ID cannot be empty.
agent-runners-coze-coze_agent_runner-coze_api_base_url_invalid_format = Coze API Base URL format is incorrect, it must start with http:// or https://.
agent-runners-coze-coze_agent_runner-coze_request_failed = Coze request failed: {str(e)}
agent-runners-coze-coze_agent_runner-coze_request_failed_completion = "err", completion_text=f"Coze request failed: {str(e)}"
agent-runners-coze-coze_agent_runner-coze_request_failed_message_chain = MessageChain().message(f"Coze request failed: {str(e)}")
agent-runners-coze-coze_agent_runner-process_context_image_failed = Failed to process context image: {e}
agent-runners-coze-coze_agent_runner-process_image_failed = Failed to process image {url}: {e}
agent-runners-coze-coze_agent_runner-unknown_error_fallback = data.get("msg", "Unknown error")
agent-runners-coze-coze_agent_runner-coze_error_occurred = Coze error occurred: {error_code} - {error_msg}
agent-runners-coze-coze_agent_runner-raise_coze_error = Coze error occurred: {error_code} - {error_msg}
agent-runners-coze-coze_agent_runner-coze_no_content_returned = Coze returned no content
agent-runners-coze-coze_agent_runner-using_cached_file_id = [Coze] Using cached file_id: {file_id}
agent-runners-coze-coze_agent_runner-image_uploaded_and_cached = [Coze] Image uploaded successfully and cached, file_id: {file_id}
agent-runners-coze-coze_agent_runner-process_image_url_failed = Failed to process image {image_url}: {e!s}
agent-runners-coze-coze_agent_runner-raise_process_image_failed = Failed to process image: {e!s}
agent-runners-coze-coze_api_client-coze_api_auth_failed = Coze API authentication failed, please check if the API Key is correct
agent-runners-coze-coze_api_client-file_upload_response_status = File upload response status: {response.status}, content: {response_text}
agent-runners-coze-coze_api_client-file_upload_failed = File upload failed, status code: {response.status}, response: {response_text}
agent-runners-coze-coze_api_client-file_upload_response_parse_failed = File upload response parsing failed: {response_text}
agent-runners-coze-coze_api_client-file_upload_failed_dup2 = File upload failed: {result.get('msg', 'Unknown error')}
agent-runners-coze-coze_api_client-image_upload_success = [Coze] Image uploaded successfully, file_id: {file_id}
agent-runners-coze-coze_api_client-file_upload_timeout = File upload timed out
agent-runners-coze-coze_api_client-file_upload_timeout_error = File upload timed out
agent-runners-coze-coze_api_client-file_upload_failed_error = File upload failed: {e!s}
agent-runners-coze-coze_api_client-file_upload_failed_raise = File upload failed: {e!s}
agent-runners-coze-coze_api_client-image_download_failed_status = Failed to download image, status code: {response.status}
agent-runners-coze-coze_api_client-image_download_failed = Failed to download image {image_url}: {e!s}
agent-runners-coze-coze_api_client-image_download_failed_raise = Failed to download image: {e!s}
agent-runners-coze-coze_api_client-api_auth_failed = Coze API authentication failed, please check if the API Key is correct
agent-runners-coze-coze_api_client-stream_request_failed_status = Coze API streaming request failed, status code: {response.status}
agent-runners-coze-coze_api_client-stream_request_timeout = Coze API streaming request timed out ({timeout} seconds)
agent-runners-coze-coze_api_client-stream_request_failed = Coze API streaming request failed: {e!s}
agent-runners-coze-coze_api_client-api_request_failed_status = Coze API request failed, status code: {response.status}
agent-runners-coze-coze_api_client-api_response_not_json = Coze API returned non-JSON format
agent-runners-coze-coze_api_client-api_request_timeout = Coze API request timed out
agent-runners-coze-coze_api_client-api_request_failed = Coze API request failed: {e!s}
agent-runners-coze-coze_api_client-get_messages_failed_log = Failed to get Coze message list: {e!s}
agent-runners-coze-coze_api_client-get_messages_failed = Failed to get Coze message list: {e!s}
agent-runners-dashscope-dashscope_agent_runner-api_key_empty = The Aliyun Bailian API Key cannot be empty.
agent-runners-dashscope-dashscope_agent_runner-app_id_empty = The Aliyun Bailian APP ID cannot be empty.
agent-runners-dashscope-dashscope_agent_runner-app_type_empty = The Aliyun Bailian APP type cannot be empty.
agent-runners-dashscope-dashscope_agent_runner-request_failed_error_log = Aliyun Bailian request failed: {str(e)}
agent-runners-dashscope-dashscope_agent_runner-request_failed_completion_text = "err", completion_text=f"Aliyun Bailian request failed: {str(e)}"
agent-runners-dashscope-dashscope_agent_runner-request_failed_message_chain = MessageChain().message(f"Aliyun Bailian request failed: {str(e)}")
agent-runners-dashscope-dashscope_agent_runner-request_failed_detailed_error = Aliyun Bailian request failed: request_id={chunk.request_id}, code={chunk.status_code}, message={chunk.message}, please refer to the documentation: https://help.aliyun.com/zh/model-studio/developer-reference/error-code
agent-runners-dashscope-dashscope_agent_runner-request_failed_simple_error = Aliyun Bailian request failed: message={chunk.message} code={chunk.status_code}
agent-runners-dashscope-dashscope_agent_runner-answer_source_append = \n\nAnswer source:\n{ref_str}
agent-runners-dashscope-dashscope_agent_runner-image_input_unsupported_warning = Aliyun Bailian does not support image input at the moment, image content will be automatically ignored.
agent-runners-dify-dify_agent_runner-dify_request_failed = Dify request failed: {str(e)}
agent-runners-dify-dify_agent_runner-dify_request_failed_completion = "err", completion_text=f"Dify request failed: {str(e)}"
agent-runners-dify-dify_agent_runner-dify_request_failed_message = MessageChain().message(f"Dify request failed: {str(e)}")
agent-runners-dify-dify_agent_runner-dify_upload_image_response = Dify upload image response: {file_response}
agent-runners-dify-dify_agent_runner-unknown_dify_response_after_upload = Received unknown Dify response after uploading image: {file_response}, image will be ignored.
agent-runners-dify-dify_agent_runner-upload_image_failed = Failed to upload image: {e}
agent-runners-dify-dify_agent_runner-dify_error_occurred = Dify encountered an error: {chunk}
agent-runners-dify-dify_agent_runner-dify_error_status_message = Dify error - status: {chunk['status']} message: {chunk['message']}
agent-runners-dify-dify_agent_runner-workflow_started = Dify workflow (ID: {chunk['workflow_run_id']}) started running.
agent-runners-dify-dify_agent_runner-workflow_node_finished = Dify workflow node (ID: {chunk['data']['node_id']} Title: {chunk['data'].get('title', '')}) finished running.
agent-runners-dify-dify_agent_runner-workflow_run_finished = Dify workflow (ID: {chunk['workflow_run_id']}) has finished running
agent-runners-dify-dify_agent_runner-workflow_result_debug = Dify workflow result: {chunk}
agent-runners-dify-dify_agent_runner-workflow_error = Dify workflow encountered an error: {chunk['data']['error']}
agent-runners-dify-dify_agent_runner-workflow_error_duplicate = Dify workflow encountered an error: {chunk['data']['error']}
agent-runners-dify-dify_agent_runner-missing_output_key = Dify workflow output does not contain the specified key: {self.workflow_output_key}
agent-runners-dify-dify_agent_runner-unknown_api_type = Unknown Dify API type: {self.api_type}
agent-runners-dify-dify_agent_runner-empty_result_warning = Dify request result is empty, please check the Debug logs.
agent-runners-dify-dify_api_client-chat_messages_request_failed = Dify /chat-messages API request failed: {resp.status}. {text}
agent-runners-dify-dify_api_client-workflows_run_request_failed = Dify /workflows/run API request failed: {resp.status}. {text}
agent-runners-dify-dify_api_client-file_params_both_none = file_path and file_data cannot both be None
agent-runners-dify-dify_api_client-file_upload_failed = Dify file upload failed: {resp.status}. {text}
agent-runners-tool_loop_agent_runner-llm_response_error = LLM response error: {llm_resp.completion_text or 'unknown error'}
agent-runners-tool_loop_agent_runner-agent_using_tool = Agent using tool: {llm_response.tools_call_name}
agent-runners-tool_loop_agent_runner-using_tool_with_params = Using tool: {func_tool_name}, parameters: {func_tool_args}
agent-runners-tool_loop_agent_runner-tool_not_found_warning = Specified tool not found: {func_tool_name}, will skip.
agent-runners-tool_loop_agent_runner-tool_expected_parameters = Tool {func_tool_name} expected parameters: {func_tool.parameters}
agent-runners-tool_loop_agent_runner-ignoring_unexpected_params = Tool {func_tool_name} ignoring unexpected parameters: {ignored_params}
agent-runners-tool_loop_agent_runner-tool_no_return_or_direct = {func_tool_name} returned no value, or the result was sent directly to the user.
agent-runners-tool_loop_agent_runner-unsupported_tool_return_type = Tool returned an unsupported type: {type(resp)}.
astr_main_agent-error_process_image_description_failed = Failed to process image description: %s
astr_main_agent-error_process_quoted_image_failed = Failed to process referenced image: %s
astr_main_agent_resources-info_session_disabled_knowledge = [Knowledge] Session {umo} has been configured to not use knowledge base
astr_main_agent_resources-warn_knowledge_base_not_found_or_unloaded = [Knowledge] Knowledge base does not exist or is not loaded: {kb_id}
astr_main_agent_resources-invalid_kb_ids_in_session_config = [Knowledge] The following knowledge bases configured for session {umo} are invalid: {invalid_kb_ids}
astr_main_agent_resources-debug_using_session_kb_config = [Knowledge] Using session-level configuration, knowledge base count: {len(kb_names)}
astr_main_agent_resources-debug_using_global_kb_config = [Knowledge] Using global configuration, knowledge base count: {len(kb_names)}
astr_main_agent_resources-debug_start_kb_retrieval = [Knowledge] Starting knowledge base retrieval, count: {len(kb_names)}, top_k={top_k}
astr_main_agent_resources-debug_injected_kb_chunks = [Knowledge] Injected {len(results)} relevant knowledge chunks for session {umo}
astrbot_config_mgr-error_cannot_delete_default_config = Cannot delete the default configuration file
astrbot_config_mgr-warn_config_not_in_mapping = Configuration file {conf_id} does not exist in mapping
astrbot_config_mgr-info_config_file_deleted = Deleted configuration file: {conf_path}
astrbot_config_mgr-error_delete_config_failed = Failed to delete configuration file {conf_path}: {e}
astrbot_config_mgr-info_config_deleted_success = Successfully deleted configuration {conf_id}
astrbot_config_mgr-error_cannot_update_default_config = Cannot update information of the default configuration file
astrbot_config_mgr-warn_config_not_found_in_mapping = Configuration file {conf_id} does not exist in mapping
astrbot_config_mgr-info_config_updated_success = Successfully updated information for configuration {conf_id}
backup-exporter-info_start_export_backup = Starting backup export to {zip_path}
backup-exporter-progress_exporting_main_db = Exporting main database...
backup-exporter-progress_main_db_export_complete = Main database export completed
backup-exporter-exporting_kb_metadata = Exporting knowledge base metadata...
backup-exporter-kb_metadata_export_completed = Knowledge base metadata export completed
backup-exporter-exporting_kb_documents = Exporting document data for knowledge base {kb_helper.kb.kb_name}...
backup-exporter-kb_documents_export_completed = Knowledge base documents export completed
backup-exporter-exporting_config = Exporting configuration file...
backup-exporter-config_export_completed = Configuration file export completed
backup-exporter-exporting_attachments = Exporting attachments...
backup-exporter-attachments_export_completed = Attachments export completed
backup-exporter-exporting_directories = Exporting plugins and data directories...
backup-exporter-directories_export_completed = Directories export completed
backup-exporter-generating_manifest = Generating manifest...
backup-exporter-manifest_generation_completed = Manifest generation completed
backup-exporter-backup_export_completed = Backup export completed: {zip_path}
backup-exporter-backup_export_failed = Backup export failed: {e}
backup-exporter-exported_table_records = Exported table {table_name}: {len(export_data[table_name])} records
backup-exporter-export_table_failed = Exporting table {table_name} failed: {e}
backup-exporter-exported_kb_table_records = Exported knowledge base table {table_name}: {len(export_data[table_name])} records
backup-exporter-export_kb_table_failed = Exporting knowledge base table {table_name} failed: {e}
backup-exporter-export_kb_documents_failed = Exporting knowledge base documents failed: {e}
backup-exporter-exported_faiss_index = Exported FAISS index: {archive_path}
backup-exporter-failed_export_faiss_index = Failed to export FAISS index: {e}
backup-exporter-failed_export_media_files = Failed to export knowledge base media files: {e}
backup-exporter-directory_not_exist_skip = Directory does not exist, skipping: {full_path}
backup-exporter-failed_export_file = Failed to export file {file_path}: {e}
backup-exporter-exporting_directory_summary = Exporting directory {dir_name}: {file_count} files, {total_size} bytes
backup-exporter-failed_export_directory = Failed to export directory {dir_path}: {e}
backup-exporter-failed_export_attachments = Failed to export attachments: {e}
backup-importer-backup_file_not_exist = f"Backup file does not exist: {zip_path}"
backup-importer-missing_manifest_invalid_backup = "Backup file is missing manifest.json, not a valid AstrBot backup"
backup-importer-manifest_format_error = f"manifest.json format error: {e}"
backup-importer-backup_version_fallback_unknown = manifest.get("astrbot_version", "Unknown")
backup-importer-backup_time_fallback_unknown = manifest.get("exported_at", "Unknown")
backup-importer-invalid_zip_file = "Invalid ZIP file"
backup-importer-failed_check_backup_file = f"Failed to check backup file: {e}"
backup-importer-missing_version_info = Backup file is missing version information
backup-importer-major_version_incompatible = Major version incompatible: backup version {backup_version}, current version {VERSION}.
backup-importer-major_version_mismatch_warning = Importing across major versions may cause data corruption. Please use the same major version of AstrBot.
backup-importer-minor_version_difference = Minor version difference: backup version {backup_version}, current version {VERSION}.
backup-importer-version_matches = Version matches
backup-importer-add_error_backup_not_exist = Backup file does not exist: {zip_path}
backup-importer-start_import_from_zip = Starting import of backup from {zip_path}
backup-importer-validate_start = Validating backup file...
backup-importer-error_missing_manifest = Backup file is missing manifest.json
backup-importer-error_manifest_format = manifest.json format error: {e}
backup-importer-validate_complete = Validation completed
backup-importer-main_db_start = Importing main database...
backup-importer-error_main_db_import = Failed to import main database: {e}
backup-importer-main_db_complete = Main database import completed
backup-importer-kb_start = Importing knowledge base...
backup-importer-warning_kb_import_failed = Failed to import knowledge base: {e}
backup-importer-kb_complete = Knowledge base import completed
backup-importer-config_start = Importing configuration file...
backup-importer-warning_config_import_failed = Failed to import configuration file: {e}
backup-importer-config_complete = Configuration file import completed
backup-importer-attachments_start = Importing attachments...
backup-importer-attachments_complete = Attachments import completed
backup-importer-directories_start = Importing plugins and data directories...
backup-importer-directories_complete = Directories import completed
backup-importer-import_finished = Backup import completed: {result.to_dict()}
backup-importer-error_invalid_zip = Invalid ZIP file
backup-importer-import_failed = Import failed: {e}
backup-importer-missing_version_info_dup2 = Backup file is missing version information
backup-importer-version_mismatch_warning = Version mismatch warning: {version_check['message']}
backup-importer-table_cleared = Cleared table {table_name}
backup-importer-clear_table_failed = Failed to clear table {table_name}: {e}
backup-importer-kb_table_cleared = Cleared knowledge base table {table_name}
backup-importer-clear_kb_table_failed = Failed to clear knowledge base table {table_name}: {e}
backup-importer-clean_kb_failed = Failed to clean knowledge base {kb_id}: {e}
backup-importer-unknown_table = Unknown table: {table_name}
backup-importer-import_records_failed = Failed to import records into {table_name}: {e}
backup-importer-table_imported = Imported table {table_name}: {count} records
backup-importer-import_kb_records_failed = Failed to import knowledge base records into {table_name}: {e}
backup-importer-import_kb_docs_failed = Failed to import documents for knowledge base {kb_id}: {e}
backup-importer-import_kb_faiss_failed = Failed to import FAISS index for knowledge base {kb_id}: {e}
backup-importer-import_media_failed = Failed to import media file {name}: {e}
backup-importer-import_chunks_failed = Failed to import document chunks: {e}
backup-importer-import_attachment_failed = Failed to import attachment {name}: {e}
backup-importer-skip_dir_import_unsupported = Backup version does not support directory backup, skipping directory import
backup-importer-unknown_dir_type = Unknown directory type: {dir_name}
backup-importer-existing_dir_backed_up = Backed up existing directory {target_dir} to {backup_path}
backup-importer-failed_to_import_file = Failed to import file {name}: {e}
backup-importer-importing_directory_files = Importing directory {dir_name}: {file_count} files
backup-importer-failed_to_import_directory = Failed to import directory {dir_name}: {e}
config-astrbot_config-unsupported_config_type = Unsupported config type {v['type']}. Supported types: {DEFAULT_VALUE_MAP.keys()}
config-astrbot_config-inserted_default_value = Config item {path_} does not exist, inserted default value {value}
config-astrbot_config-removed_missing_config_item = Config item {path_} does not exist, will be removed from current configuration
config-astrbot_config-resorted_sub_items = Detected inconsistent sub-item order for config item {path}, has been re-sorted
config-astrbot_config-resorted_config_order = Detected inconsistent config item order, has been re-sorted
config-astrbot_config-key_not_found = Key not found: '{key}'
conversation_mgr-session_deletion_callback_failed = Session deletion callback execution failed (session: {unified_msg_origin}): {e}
core_lifecycle-task_error_with_separator = ------- Task {task.get_name()} encountered error: {e}
core_lifecycle-startup_completed = AstrBot startup completed.
core_lifecycle-plugin_termination_warning = Plugin {plugin.name} was not properly terminated {e!s}, which may cause resource leaks or other issues.
core_lifecycle-task_error = Task {task.get_name()} encountered error: {e}
core_lifecycle-config_file_not_found = Config file {conf_id} does not exist
db-migration-helper-starting_migration = Starting database migration...
db-migration-helper-migration_completed = Database migration completed.
db-migration-migra_3_to_4-migrating_old_sessions = Migrating {total_cnt} old session records to the new table...
db-migration-migra_3_to_4-migration_progress = Progress: {progress}% ({idx + 1}/{total_cnt})
db-migration-migra_3_to_4-old_session_data_not_found = Specific data for this old session not found: {conversation}, skipping.

db-migration-migra_3_to_4-success_migrated_old_webchat = Successfully migrated {total_cnt} old WebChat conversation records to the new table.
db-migration-migra_3_to_4-migrated_session_service_config = Successfully migrated service configuration for conversation {umo} to the new table, platform ID: {platform_id}
db-migration-migra_token_usage-start_adding_token_usage = Starting database migration (adding conversations.token_usage column)...
db-migration-migra_token_usage-column_already_exists = token_usage column already exists, skipping migration
db-migration-migra_token_usage-column_added_success = token_usage column added successfully
db-migration-migra_token_usage-migration_completed = token_usage migration completed
db-migration-migra_token_usage-migration_error = Error occurred during migration: {e}
db-migration-migra_webchat_session-start_webchat_migration = Starting database migration (WebChat session migration)...
db-migration-migra_webchat_session-no_data_to_migrate = No WebChat data found that needs migration
db-migration-migra_webchat_session-found_sessions_to_migrate = Found {len(webchat_users)} WebChat sessions that need migration
db-migration-migra_webchat_session-session_already_exists = Session {session_id} already exists, skipping
db-migration-migra_webchat_session-webchat_migration_summary = WebChat session migration completed! Successfully migrated: {len(sessions_to_add)}, Skipped: {skipped_count}
db-migration-migra_webchat_session-no_new_sessions = No new sessions need migration
db-migration-migra_webchat_session-migration_error = Error occurred during migration: {e}
db-migration-sqlite_v3-default_conversation_title = Conversation {display_cid}
db-migration-sqlite_v3-default_conversation_title_2 = Conversation {display_cid}
db-vec_db-faiss_impl-embedding_storage-faiss_not_installed = faiss not installed. Please install it using 'pip install faiss-cpu' or 'pip install faiss-gpu'.
db-vec_db-faiss_impl-embedding_storage-vector_dimension_mismatch_single = Vector dimension mismatch, expected: {self.dimension}, actual: {vector.shape[0]}
db-vec_db-faiss_impl-embedding_storage-vector_dimension_mismatch_batch = Vector dimension mismatch, expected: {self.dimension}, actual: {vectors.shape[1]}
file_token_service-file_not_found = File not found: {local_path} (original input: {file_path})
file_token_service-raise_invalid_or_expired_token = Invalid or expired file token: {file_token}
file_token_service-raise_file_not_found = File not found: {file_path}
initial_loader-critical_init_failed = ðŸ˜­ Failed to initialize AstrBot: {e} !!!
initial_loader-info_shutting_down = ðŸŒˆ Shutting down AstrBot...
knowledge_base-kb_db_sqlite-info_database_closed = Knowledge base database closed: {self.db_path}
knowledge_base-kb_helper-error_no_embedding_provider = Knowledge base {self.kb.kb_name} has no Embedding Provider configured
knowledge_base-kb_helper-error_embedding_provider_not_found = Cannot find Embedding Provider with ID {self.kb.embedding_provider_id}
knowledge_base-kb_helper-error_rerank_provider_not_found = Cannot find Rerank Provider with ID {self.kb.rerank_provider_id}
knowledge_base-kb_helper-raise_no_embedding_provider = Knowledge base {self.kb.kb_name} has no Embedding Provider configured
knowledge_base-kb_helper-info_uploading_pre_chunked = Uploading using pre-chunked text, total {len(chunks_text)} chunks.
knowledge_base-kb_helper-error_file_content_required = When pre_chunked_text is not provided, file_content cannot be empty.
knowledge_base-kb_helper-error_upload_document_failed = Failed to upload document: {e}
knowledge_base-kb_helper-warning_cleanup_media_failed = Failed to clean up media file {media_path}: {me}
knowledge_base-kb_helper-raise_document_not_found = Cannot find document with ID {doc_id}
knowledge_base-kb_helper-error_no_text_after_cleaning = No valid text was extracted after content cleaning. Try disabling content cleaning or using a more powerful LLM model and retry.
knowledge_base-kb_helper-info_cleaning_disabled_using_params = Content cleaning disabled, using specified parameters for chunking: chunk_size={chunk_size}, chunk_overlap={chunk_overlap}
knowledge_base-kb_helper-warning_cleaning_skipped_no_provider = Content cleaning enabled but no cleaning_provider_id provided, skipping cleaning and using default chunking.
knowledge_base-kb_helper-error_cleaning_provider_not_found = Cannot find LLM Provider with ID {cleaning_provider_id} or type is incorrect
knowledge_base-kb_helper-info_initial_chunking_done = Initial chunking completed, generated {len(initial_chunks)} chunks for repair.
knowledge_base-kb_helper-warning_chunk_processing_fallback = Chunk {i} processing failed: {str(result)}. Falling back to original chunk.
knowledge_base-kb_helper-text_repair_completed = Text cleanup completed: {len(initial_chunks)} original chunks -> {len(final_chunks)} final chunks.
knowledge_base-kb_helper-cleaning_provider_failed = Failed to clean content using Provider '{cleaning_provider_id}': {e}
knowledge_base-kb_mgr-initializing_module = Initializing knowledge base module...
knowledge_base-kb_mgr-module_import_failed = Failed to import knowledge base module: {e}
knowledge_base-kb_mgr-missing_dependencies_warning = Please ensure the required dependencies are installed: pypdf, aiofiles, Pillow, rank-bm25
knowledge_base-kb_mgr-initialization_failed = Knowledge base module initialization failed: {e}
knowledge_base-kb_mgr-missing_embedding_provider = embedding_provider_id must be provided when creating a knowledge base
knowledge_base-kb_mgr-kb_name_already_exists = Knowledge base name '{kb_name}' already exists
knowledge_base-kb_mgr-close_kb_failed = Failed to close knowledge base {kb_id}: {e}
knowledge_base-kb_mgr-close_metadata_db_failed = Failed to close knowledge base metadata database: {e}
knowledge_base-parsers-text_parser-decode_failed = Unable to decode file: {file_name}
knowledge_base-parsers-util-unsupported_format = Unsupported file format: {ext}
knowledge_base-retrieval-manager-kb_instance_not_found = Knowledge base ID {kb_id} instance not found, skipped retrieval for this knowledge base
knowledge_base-retrieval-manager-dense_retrieval_failed = Dense retrieval failed for knowledge base {kb_id}: {e}
message-components-callback_api_base_missing = callback_api_base not configured, file service unavailable
message-components-file_callback_registered = Registered: {callback_host}/api/file/{token}
message-components-cannot_wait_sync_in_async = Cannot synchronously wait for download in an async context!
message-components-warning_file_dot_file_access = This warning usually occurs when some logic tries to get the file content of a file message segment via <File>.file.
message-components-use_await_get_file = Please use await get_file() instead of directly accessing the <File>.file field
message-components-file_download_failed_log = File download failed: {e}
message-components-callback_api_not_configured = callback_api_base not configured, file service unavailable
message-components-registered_file_endpoint_log = Registered: {callback_host}/api/file/{token}
persona_mgr-loaded_personas_count = Loaded {len(self.personas)} personas.
persona_mgr-persona_prompt_format_invalid = {persona_cfg['name']} persona system prompt conversation format incorrect, number of entries should be even.
persona_mgr-parse_persona_config_failed = Failed to parse Persona config: {e}
pipeline-content_safety_check-stage-content_blocked_message = Your message or the large model's response contains inappropriate content and has been blocked.
pipeline-content_safety_check-stage-safety_check_failed_log = Content safety check failed, reason: {info}
pipeline-content_safety_check-strategies-baidu_aip-baidu_detected_violations = [f"Baidu moderation service detected {count} violation(s):\n"]
pipeline-content_safety_check-strategies-keywords-keywords_matched_block = Content safety check failed, sensitive words matched.
pipeline-content_safety_check-strategies-strategy-baidu_aip_package_missing = Using Baidu content moderation requires pip install baidu-aip first
pipeline-context_utils-handler_params_mismatch = Handler function parameters do not match, please check handler definition.
pipeline-context_utils-handler_terminated_propagation = {star_map[handler.handler_module_path].name} - {handler.handler_name} terminated event propagation.
pipeline-preprocess_stage-stage-pre_emoji_send_failed = {platform} pre-response emoji sending failed: {e}
pipeline-preprocess_stage-stage-path_mapping_debug = Path mapping: {url} -> {component.url}
pipeline-preprocess_stage-stage-no_stt_model_configured = Session {event.unified_msg_origin} has no speech-to-text model configured.
pipeline-preprocess_stage-stage-speech_to_text_result = Speech-to-text result:
pipeline-preprocess_stage-stage-retry_in_progress = Retrying: {i + 1}/{retry}
pipeline-preprocess_stage-stage-speech_to_text_failed = Speech-to-text failed: {e}
pipeline-process_stage-method-agent_request-extra_wake_prefix_removed = Detected LLM chat extra wake prefix {self.prov_wake_prefix} starting with robot wake prefix {bwp}, automatically removed.
pipeline-process_stage-method-agent_sub_stages-internal-live_mode_tts_enabled = [Internal Agent] Live Mode detected, enabling TTS processing
pipeline-process_stage-method-agent_sub_stages-internal-tts_provider_not_configured = [Live Mode] TTS Provider not configured, will use normal streaming mode
pipeline-process_stage-method-agent_sub_stages-internal-empty_llm_response_no_save = LLM response is empty, record not saved.
pipeline-process_stage-method-agent_sub_stages-third_party-request_failed = \nAstrBot request failed.\nError type: {type(e).__name__}\n
pipeline-process_stage-method-agent_sub_stages-third_party-error_details = Error message: {e!s}\n\nPlease check and share error details in platform logs.\n
pipeline-process_stage-method-agent_sub_stages-third_party-missing_provider_id = No Agent Runner provider ID configured, please go to the configuration page to set it up.
pipeline-process_stage-method-agent_sub_stages-third_party-provider_config_missing = Agent Runner provider {self.prov_id} configuration not found, please go to the configuration page to modify settings.
pipeline-process_stage-method-agent_sub_stages-third_party-no_final_result = Agent Runner did not return final result.
pipeline-process_stage-method-star_request-plugin_handler_exception = f":(\n\nAn exception occurred while calling the handler function {handler.handler_name} of plugin {md.name}: {e}"
pipeline-rate_limit_check-stage-session_rate_limited_paused = Session {session_id} is rate limited. According to the rate limit policy, processing for this session will be paused for {stall_duration:.2f} seconds.
pipeline-rate_limit_check-stage-request_discarded_rate_limit = Session {session_id} is rate limited. According to the rate limit policy, this request has been discarded until the quota resets in {stall_duration:.2f} seconds.
pipeline-respond-stage-parse_interval_failed = Failed to parse segmented reply interval time. {e}
pipeline-respond-stage-segmented_reply_interval = Segmented reply interval: {self.interval}
pipeline-respond-stage-empty_stream_skip_send = async_stream is empty, skipping send.
pipeline-respond-stage-applying_streaming_output = Applying streaming output ({event.get_platform_id()})
pipeline-respond-stage-empty_message_skip_send = Message is empty, skipping send stage
pipeline-respond-stage-empty_content_check_exception = Empty content check exception: {e}
pipeline-respond-stage-actual_chain_empty_skip_send = Actual message chain is empty, skipping send stage. header_chain: {header_comps}, actual_chain: {result.chain}
pipeline-respond-stage-send_chain_failed = Failed to send message chain: chain = {MessageChain([comp])}, error = {e}
pipeline-respond-stage-chain_only_reply_at_skip_send = Message chain contains only Reply and At segments, skipping send stage. chain: {result.chain}
pipeline-respond-stage-send_message_chain_failed = Failed to send message chain: chain = {chain}, error = {e}
pipeline-respond-stage-send_chain_error = Failed to send message chain: chain = {chain}, error = {e}
pipeline-result_decorate-stage-streaming_hooks_warning = When streaming output is enabled, plugins relying on pre-send message hooks may not function properly
pipeline-result_decorate-stage-handler_cleared_result = hook(on_decorating_result) -> {star_map[handler.handler_module_path].name} - {handler.handler_name} cleared the message result.
pipeline-result_decorate-stage-handler_stopped_propagation = {star_map[handler.handler_module_path].name} - {handler.handler_name} stopped event propagation.
pipeline-result_decorate-stage-streaming_skip_decoration = Streaming output enabled, skipping result decoration stage
pipeline-result_decorate-stage-segment_regex_error_fallback = Segmented reply regex error, falling back to default segmentation: {traceback.format_exc()}
pipeline-result_decorate-stage-tts_model_not_configured = Session {event.unified_msg_origin} has no text-to-speech model configured.
pipeline-result_decorate-stage-prepend_thinking_content = ðŸ¤” Thinking: {reasoning_content}\n
pipeline-result_decorate-stage-tts_request_logged = TTS request: {comp.text}
pipeline-result_decorate-stage-tts_result_logged = TTS result: {audio_path}
pipeline-result_decorate-stage-tts_audio_not_found = TTS audio file not found, text-to-speech conversion failed for segment: {comp.text}
pipeline-result_decorate-stage-url_registered_debug = Registered: {url}
pipeline-result_decorate-stage-tts_failed_fallback_text = TTS failed, falling back to text sending.
pipeline-result_decorate-stage-t2i_failed_fallback_text = Text-to-image failed, falling back to text sending.
pipeline-result_decorate-stage-t2i_too_slow_suggestion = Text-to-image generation took over 3 seconds. If it's too slow, you can use /t2i to disable text-to-image mode.
pipeline-result_decorate-stage-registered = Registered: {url}
pipeline-scheduler-terminated_event_propagation = Stage {stage.__class__.__name__} has terminated event propagation.
pipeline-scheduler-terminated_event_propagation_duplicate = Stage {stage.__class__.__name__} has terminated event propagation.
pipeline-scheduler-debug_terminated_event_propagation = Stage {stage.__class__.__name__} has terminated event propagation.
pipeline-scheduler-pipeline_completed = Pipeline execution completed.
pipeline-session_status_check-stage-session_closed = Session {event.unified_msg_origin} has been closed, event propagation terminated.
pipeline-waking_check-stage-plugin_error = Plugin {star_map[handler.handler_module_path].name}: {e}
pipeline-waking_check-stage-insufficient_permission = You (ID: {event.get_sender_id()}) do not have sufficient permissions to use this command. Please obtain your ID via /sid and ask an administrator to add it.
pipeline-waking_check-stage-trigger_permission_denied = Insufficient permissions for user (ID={event.get_sender_id()}) when triggering {star_map[handler.handler_module_path].name}.
pipeline-whitelist_check-stage-not_in_whitelist = Session ID {event.unified_msg_origin} is not in the session whitelist, event propagation terminated. Please add this session ID to the whitelist in the configuration file.
platform-astr_message_event-clear_extras = Clearing additional info for {self.get_platform_name()}: {self._extras}
platform-manager-terminate_adapter_failed = Failed to terminate platform adapter: client_id=%s, error=%s
platform-manager-init_adapter_failed = Failed to initialize {platform} platform adapter: {e}
platform-manager-invalid_platform_id_char = Platform ID %r contains invalid character ':' or '!', replaced with %r.
platform-manager-empty_platform_id = Platform ID {platform_id!r} cannot be empty, skipping loading of this platform adapter.
platform-manager-loading_adapter = Loading {platform_config['type']}({platform_config['id']}) platform adapter ...
platform-manager-load_adapter_failed_with_hint = Failed to load platform adapter {platform_config['type']}, reason: {e}. Please check if the required dependencies are installed. Hint: You can install dependencies in Admin Panel -> Platform Logs -> Install Pip Libraries.
platform-manager-load_adapter_failed = Failed to load platform adapter {platform_config['type']}, reason: {e}.
platform-manager-adapter_not_found = No adapter found for {platform_config['type']}({platform_config['id']}), please check if it is installed or if the name is entered correctly
platform-manager-task_error = ------- Task {task.get_name()} encountered an error: {e}
platform-manager-attempting_to_terminate_adapter = Attempting to terminate {platform_id} platform adapter ...
platform-manager-adapter_may_not_be_fully_removed = {platform_id} platform adapter may not have been fully removed
platform-manager-failed_to_get_platform_stats = Failed to get platform statistics: {e}
platform-platform-unified_webhook_not_implemented = Platform {self.meta().name} has not implemented unified Webhook mode
platform-register-adapter_already_registered = Platform adapter {adapter_name} has already been registered, possible adapter name conflict.
platform-register-adapter_registered = Platform adapter {adapter_name} has been registered
platform-register-adapter_unregistered = Platform adapter {pm.name} has been unregistered (from module {pm.module_path})
platform-sources-aiocqhttp-aiocqhttp_message_event-missing_session_or_event = Unable to send message: missing valid numeric session_id({session_id}) or event({event})
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-adapter_connected = aiocqhttp (OneBot v11) adapter has connected.
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-unrecognized_message_type = f"aiocqhttp: Unrecognized message type: {event.message!s}, this message will be ignored. If you are using go-cqhttp, please change message.post-format to array in its config file."
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-reply_message_failed = Failed to reply message: {e}
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-get_file_failed_ret = Failed to get file: {ret}
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-get_file_failed_ignore = Failed to get file: {e}, this message segment will be ignored.
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-get_file_failed_ignore_2 = Failed to get file: {e}, this message segment will be ignored.
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-cannot_construct_reply_event = Unable to construct Event object from reply message data: {reply_event_data}
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-get_quoted_message_failed = Failed to get quoted message: {e}.
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-get_at_user_info_failed_ignore = Failed to get @ user information: {e}, this message segment will be ignored.
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-get_at_user_info_failed_ignore_2 = Failed to get @ user information: {e}, this message segment will be ignored.
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-unsupported_segment_type_ignored = Unsupported message segment type, ignored: {t}, data={m['data']}
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-segment_parsing_failed = Message segment parsing failed: type={t}, data={m['data']}. {e}
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-ws_reverse_not_configured = aiocqhttp: ws_reverse_host or ws_reverse_port not configured, using default value: http://0.0.0.0:6199
platform-sources-aiocqhttp-aiocqhttp_platform_adapter-adapter_closed = aiocqhttp adapter has been closed
platform-sources-dingtalk-dingtalk_adapter-missing_staff_id_fallback = DingTalk private chat session lacks staff_id mapping, falling back to using session_id as userId for sending
platform-sources-dingtalk-dingtalk_adapter-save_session_mapping_failed = Failed to save DingTalk session mapping: {e}
platform-sources-dingtalk-dingtalk_adapter-download_file_failed = Failed to download DingTalk file: {resp.status}, {await resp.text()}
platform-sources-dingtalk-dingtalk_adapter-get_token_stream_failed = Failed to get access_token via dingtalk_stream: {e}
platform-sources-dingtalk-dingtalk_adapter-get_bot_token_failed = Failed to get DingTalk bot access_token: {resp.status}, {await resp.text()}
platform-sources-dingtalk-dingtalk_adapter-read_staff_id_mapping_failed = Failed to read DingTalk staff_id mapping: {e}
platform-sources-dingtalk-dingtalk_adapter-group_send_token_empty = Failed to send DingTalk group message: access_token is empty
platform-sources-dingtalk-dingtalk_adapter-group_send_failed = Failed to send DingTalk group message: {resp.status}, {await resp.text()}
platform-sources-dingtalk-dingtalk_adapter-private_send_token_empty = Failed to send DingTalk private message: access_token is empty
platform-sources-dingtalk-dingtalk_adapter-private_send_failed = Failed to send DingTalk private message: {resp.status}, {await resp.text()}
platform-sources-dingtalk-dingtalk_adapter-cleanup_temp_file_failed = Failed to clean up temporary file: {file_path}, {e}
platform-sources-dingtalk-dingtalk_adapter-voice_ogg_conversion_failed = DingTalk voice to OGG conversion failed, falling back to AMR: {e}
platform-sources-dingtalk-dingtalk_adapter-media_upload_token_empty = DingTalk media upload failed: access_token is empty
platform-sources-dingtalk-dingtalk_adapter-media_upload_failed = Failed to upload DingTalk media: {resp.status}, {await resp.text()}
platform-sources-dingtalk-dingtalk_adapter-media_upload_failed_detail = DingTalk media upload failed: {data}
platform-sources-dingtalk-dingtalk_adapter-voice_send_failed = Failed to send DingTalk voice message: {e}
platform-sources-dingtalk-dingtalk_adapter-video_send_failed = Failed to send DingTalk video message: {e}
platform-sources-dingtalk-dingtalk_adapter-private_reply_missing_staff_id = Failed to reply in DingTalk private chat: missing sender_staff_id
platform-sources-dingtalk-dingtalk_adapter-adapter_closed = DingTalk adapter has been shut down
platform-sources-dingtalk-dingtalk_adapter-bot_start_failed = DingTalk bot failed to start: {e}
platform-sources-dingtalk-dingtalk_event-missing_adapter = DingTalk message sending failed: missing adapter
platform-sources-discord-client-user_not_loaded = [Discord] Client did not load user information correctly (self.user is None)
platform-sources-discord-client-login_success = [Discord] Logged in as {self.user} (ID: {self.user.id})
platform-sources-discord-client-client_ready = [Discord] Client is ready.
platform-sources-discord-client-ready_callback_failed = [Discord] on_ready_once_callback execution failed: {e}
platform-sources-discord-client-received_raw_message = [Discord] Received raw message from {message.author.name}: {message.content}
platform-sources-discord-discord_platform_adapter-client_not_ready_send = [Discord] Client not ready (self.client.user is None), unable to send message
platform-sources-discord-discord_platform_adapter-adapter_name = Discord Adapter
platform-sources-discord-discord_platform_adapter-message_received_debug = [Discord] Received message: {message_data}
platform-sources-discord-discord_platform_adapter-token_not_configured = [Discord] Bot Token not configured. Please set the token correctly in the configuration file.
platform-sources-discord-discord_platform_adapter-login_failed = [Discord] Login failed. Please check if your Bot Token is correct.
platform-sources-discord-discord_platform_adapter-connection_closed = [Discord] Connection to Discord has been closed.
platform-sources-discord-discord_platform_adapter-unexpected_runtime_error = [Discord] Unexpected error occurred during adapter runtime: {e}
platform-sources-discord-discord_platform_adapter-client_not_ready_process = [Discord] Client not ready (self.client.user is None), unable to process message
platform-sources-discord-discord_platform_adapter-non_message_type_ignored = [Discord] Received message of non-Message type: {type(raw_message)}, ignored.
platform-sources-discord-discord_platform_adapter-terminating_step1 = [Discord] Terminating adapter... (step 1: cancel polling task)
platform-sources-discord-discord_platform_adapter-polling_task_cancelled = [Discord] polling_task has been cancelled.

